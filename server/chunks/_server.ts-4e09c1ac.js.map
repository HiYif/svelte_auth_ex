{"version":3,"file":"_server.ts-4e09c1ac.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/v1/user/_server.ts.js"],"sourcesContent":["import { e as error, j as json } from \"../../../../../chunks/index.js\";\nimport { q as query } from \"../../../../../chunks/db.js\";\nconst PUT = async (event) => {\n  const { user } = event.locals;\n  if (!user)\n    throw error(401, \"Unauthorized - must be logged-in.\");\n  try {\n    const userUpdate = await event.request.json();\n    await query(`CALL update_user($1, $2);`, [user.id, JSON.stringify(userUpdate)]);\n  } catch (err) {\n    throw error(503, \"Could not communicate with database.\");\n  }\n  return json({\n    message: \"Successfully updated user profile.\"\n  });\n};\nexport {\n  PUT\n};\n"],"names":[],"mappings":";;;;AAEK,MAAC,GAAG,GAAG,OAAO,KAAK,KAAK;AAC7B,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;AAChC,EAAE,IAAI,CAAC,IAAI;AACX,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,mCAAmC,CAAC,CAAC;AAC1D,EAAE,IAAI;AACN,IAAI,MAAM,UAAU,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;AAClD,IAAI,MAAM,KAAK,CAAC,CAAC,yBAAyB,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACpF,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,sCAAsC,CAAC,CAAC;AAC7D,GAAG;AACH,EAAE,OAAO,IAAI,CAAC;AACd,IAAI,OAAO,EAAE,oCAAoC;AACjD,GAAG,CAAC,CAAC;AACL;;;;"}