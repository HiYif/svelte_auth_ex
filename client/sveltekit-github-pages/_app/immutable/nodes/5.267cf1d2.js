import{S as re,i as ie,s as ne,a as k,k as f,q as D,P as de,h as r,c as w,l as m,m as h,r as S,n as l,b as U,D as e,Q as ee,N as te,O as ce,J as se,R as ue,H as fe,o as me,T as pe,u as he,I as _e,w as ve}from"../chunks/index.0a471256.js";import{g as be}from"../chunks/navigation.d6452f73.js";import{t as ae}from"../chunks/stores.68a1c5e6.js";import{f as ge}from"../chunks/focus.a98a273e.js";const{document:oe}=pe;function le(p){let n,o;return{c(){n=f("p"),o=D(p[2]),this.h()},l(s){n=m(s,"P",{class:!0});var a=h(n);o=S(a,p[2]),a.forEach(r),this.h()},h(){l(n,"class","text-danger")},m(s,a){U(s,n,a),e(n,o)},p(s,a){a&4&&he(o,s[2])},d(s){s&&r(n)}}}function Ee(p){let n,o,s,a,t,b,g,T,F,d,q,N,_,E,j,H,c,B,P,L,C,R,I,y,J,M,W,i=p[2]&&le(p);return{c(){n=k(),o=f("div"),s=f("div"),a=f("div"),t=f("form"),b=f("h4"),g=f("strong"),T=D("Forgot password"),F=k(),d=f("p"),q=D("Hey, you're human. We get it."),N=k(),_=f("div"),E=f("label"),j=D("Email"),H=k(),c=f("input"),B=k(),P=f("div"),L=D("Email address required"),C=k(),i&&i.c(),R=k(),I=f("div"),y=f("button"),J=D("Send Email"),this.h()},l(u){de("svelte-1ebwcft",oe.head).forEach(r),n=w(u),o=m(u,"DIV",{class:!0});var A=h(o);s=m(A,"DIV",{class:!0});var G=h(s);a=m(G,"DIV",{class:!0});var Q=h(a);t=m(Q,"FORM",{id:!0,autocomplete:!0});var v=h(t);b=m(v,"H4",{});var z=h(b);g=m(z,"STRONG",{});var K=h(g);T=S(K,"Forgot password"),K.forEach(r),z.forEach(r),F=w(v),d=m(v,"P",{});var X=h(d);q=S(X,"Hey, you're human. We get it."),X.forEach(r),N=w(v),_=m(v,"DIV",{class:!0});var V=h(_);E=m(V,"LABEL",{class:!0,for:!0});var Y=h(E);j=S(Y,"Email"),Y.forEach(r),H=w(V),c=m(V,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,autocomplete:!0}),B=w(V),P=m(V,"DIV",{class:!0});var Z=h(P);L=S(Z,"Email address required"),Z.forEach(r),V.forEach(r),C=w(v),i&&i.l(v),R=w(v),I=m(v,"DIV",{class:!0});var x=h(I);y=m(x,"BUTTON",{class:!0});var $=h(y);J=S($,"Send Email"),$.forEach(r),x.forEach(r),v.forEach(r),Q.forEach(r),G.forEach(r),A.forEach(r),this.h()},h(){oe.title="Forgot Password",l(E,"class","form-label"),l(E,"for","email"),l(c,"type","email"),l(c,"id","email"),l(c,"class","form-control"),c.required=!0,l(c,"placeholder","Email"),l(c,"autocomplete","email"),l(P,"class","invalid-feedback"),l(_,"class","mb-3"),l(y,"class","btn btn-primary btn-lg"),l(I,"class","d-grid gap-2"),l(t,"id","forgot"),l(t,"autocomplete","on"),t.noValidate=!0,l(a,"class","card-body svelte-wmjxka"),l(s,"class","card"),l(o,"class","d-flex justify-content-center mt-5")},m(u,O){U(u,n,O),U(u,o,O),e(o,s),e(s,a),e(a,t),e(t,b),e(b,g),e(g,T),e(t,F),e(t,d),e(d,q),e(t,N),e(t,_),e(_,E),e(E,j),e(_,H),e(_,c),p[4](c),ee(c,p[1]),e(_,B),e(_,P),e(P,L),e(t,C),i&&i.m(t,null),e(t,R),e(t,I),e(I,y),e(y,J),M||(W=[te(c,"input",p[5]),te(y,"click",ce(p[3]))],M=!0)},p(u,[O]){O&2&&c.value!==u[1]&&ee(c,u[1]),u[2]?i?i.p(u,O):(i=le(u),i.c(),i.m(t,R)):i&&(i.d(1),i=null)},i:se,o:se,d(u){u&&r(n),u&&r(o),p[4](null),i&&i.d(),M=!1,ue(W)}}}function ye(p,n,o){let s;fe(p,ae,d=>o(6,s=d));let a,t,b;me(()=>{a.focus()});const g=async()=>{o(2,b="");const d=document.getElementById("forgot");if(d.checkValidity()){if((await fetch("/auth/forgot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).ok)return _e(ae,s={title:"Password Reset",body:"Please check your inbox for a password reset email (junk mail, too).",isOpen:!0},s),be("/")}else d.classList.add("was-validated"),ge(d)};function T(d){ve[d?"unshift":"push"](()=>{a=d,o(0,a)})}function F(){t=this.value,o(1,t)}return[a,t,b,g,T,F]}class Oe extends re{constructor(n){super(),ie(this,n,ye,Ee,ne,{})}}export{Oe as component};
