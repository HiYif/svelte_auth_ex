import{_ as ie}from"../chunks/preload-helper.41c905a7.js";import{S as De,i as Ne,s as Oe,C as Ve,k as d,q as P,a as N,l as h,m as c,r as S,h as i,c as O,n as e,b as U,D as r,E as Me,F as Pe,G as Se,u as ce,g as Be,d as Ce,H as we,I as Ae,o as Ue,e as Le,J as ze,K as ne,L as fe,M as ke,N as Re,O as Ge}from"../chunks/index.0a471256.js";import{b as He,g as Ke}from"../chunks/navigation.8f4cf801.js";import{l as ae,t as qe}from"../chunks/stores.68a1c5e6.js";import{i as Fe}from"../chunks/google.591341d1.js";function Ie(v){let a,t,s=v[1].role=="admin"&&ye(),l=v[1].role!="student"&&Te();return{c(){s&&s.c(),a=N(),l&&l.c(),t=Le()},l(o){s&&s.l(o),a=O(o),l&&l.l(o),t=Le()},m(o,f){s&&s.m(o,f),U(o,a,f),l&&l.m(o,f),U(o,t,f)},p(o,f){o[1].role=="admin"?s||(s=ye(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null),o[1].role!="student"?l||(l=Te(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){s&&s.d(o),o&&i(a),l&&l.d(o),o&&i(t)}}}function ye(v){let a,t,s;return{c(){a=d("li"),t=d("a"),s=P("Admin"),this.h()},l(l){a=h(l,"LI",{class:!0});var o=c(a);t=h(o,"A",{class:!0,href:!0});var f=c(t);s=S(f,"Admin"),f.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/admin"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){U(l,a,o),r(a,t),r(t,s)},d(l){l&&i(a)}}}function Te(v){let a,t,s;return{c(){a=d("li"),t=d("a"),s=P("Teachers"),this.h()},l(l){a=h(l,"LI",{class:!0});var o=c(a);t=h(o,"A",{class:!0,href:!0});var f=c(t);s=S(f,"Teachers"),f.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/teachers"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){U(l,a,o),r(a,t),r(t,s)},d(l){l&&i(a)}}}function Je(v){let a,t,s;return{c(){a=d("li"),t=d("a"),s=P("Login"),this.h()},l(l){a=h(l,"LI",{class:!0});var o=c(a);t=h(o,"A",{class:!0,href:!0});var f=c(t);s=S(f,"Login"),f.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/login"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){U(l,a,o),r(a,t),r(t,s)},p:ze,d(l){l&&i(a)}}}function je(v){let a,t,s,l,o,f,w=v[1].firstName+"",B,g,_,A,n,y,z,T,b,K,q,j;return{c(){a=d("li"),t=d("a"),s=ne("svg"),l=ne("path"),o=ne("path"),f=N(),B=P(w),g=N(),_=d("ul"),A=d("li"),n=d("a"),y=P("Profile"),z=N(),T=d("li"),b=d("a"),K=P("Logout"),this.h()},l(m){a=h(m,"LI",{class:!0});var L=c(a);t=h(L,"A",{class:!0,href:!0,role:!0,"data-bs-toggle":!0,"aria-expanded":!0});var k=c(t);s=fe(k,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var F=c(s);l=fe(F,"path",{d:!0,class:!0}),c(l).forEach(i),o=fe(F,"path",{"fill-rule":!0,d:!0,class:!0}),c(o).forEach(i),F.forEach(i),f=O(k),B=S(k,w),k.forEach(i),g=O(L),_=h(L,"UL",{class:!0});var p=c(_);A=h(p,"LI",{class:!0});var V=c(A);n=h(V,"A",{class:!0,href:!0});var C=c(n);y=S(C,"Profile"),C.forEach(i),V.forEach(i),z=O(p),T=h(p,"LI",{class:!0});var R=c(T);b=h(R,"A",{class:!0,href:!0});var J=c(b);K=S(J,"Logout"),J.forEach(i),R.forEach(i),p.forEach(i),L.forEach(i),this.h()},h(){e(l,"d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"),e(l,"class","svelte-16lhf5b"),e(o,"fill-rule","evenodd"),e(o,"d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"),e(o,"class","svelte-16lhf5b"),e(s,"xmlns","http://www.w3.org/2000/svg"),e(s,"width","16"),e(s,"height","16"),e(s,"fill","currentColor"),e(s,"class","avatar svelte-16lhf5b"),e(s,"viewBox","0 0 16 16"),e(t,"class","nav-link dropdown-toggle svelte-16lhf5b"),e(t,"href","#"),e(t,"role","button"),e(t,"data-bs-toggle","dropdown"),e(t,"aria-expanded","false"),e(n,"class","dropdown-item svelte-16lhf5b"),e(n,"href","/profile"),e(A,"class","svelte-16lhf5b"),e(b,"class","dropdown-item svelte-16lhf5b"),e(b,"href","#"),ke(b,"d-none",!v[1]||v[1].id===0),e(T,"class","svelte-16lhf5b"),e(_,"class","dropdown-menu svelte-16lhf5b"),e(a,"class","nav-item dropdown svelte-16lhf5b")},m(m,L){U(m,a,L),r(a,t),r(t,s),r(s,l),r(s,o),r(t,f),r(t,B),r(a,g),r(a,_),r(_,A),r(A,n),r(n,y),r(_,z),r(_,T),r(T,b),r(b,K),q||(j=Re(b,"click",Ge(v[2])),q=!0)},p(m,L){L&2&&w!==(w=m[1].firstName+"")&&ce(B,w),L&2&&ke(b,"d-none",!m[1]||m[1].id===0)},d(m){m&&i(a),q=!1,j()}}}function Qe(v){let a,t,s,l,o,f,w,B,g,_,A,n,y,z,T,b,K,q,j,m,L,k,F,p,V,C,R=v[0].title+"",J,se,G,re,Q,Y=v[0].body+"",Z,H,E=v[1]&&Ie(v);function ue(u,I){return u[1]?je:Je}let x=ue(v),M=x(v);const oe=v[5].default,D=Ve(oe,v,v[4],null);return{c(){a=d("nav"),t=d("div"),s=d("a"),l=P("SvelteKit-Auth-Example"),o=N(),f=d("button"),w=d("span"),B=N(),g=d("div"),_=d("ul"),A=d("li"),n=d("a"),y=P("Home"),z=N(),T=d("li"),b=d("a"),K=P("Info"),q=N(),E&&E.c(),j=N(),m=d("ul"),M.c(),L=N(),k=d("main"),D&&D.c(),F=N(),p=d("div"),V=d("div"),C=d("strong"),J=P(R),se=N(),G=d("button"),re=N(),Q=d("div"),Z=P(Y),this.h()},l(u){a=h(u,"NAV",{class:!0});var I=c(a);t=h(I,"DIV",{class:!0});var W=c(t);s=h(W,"A",{class:!0,href:!0});var de=c(s);l=S(de,"SvelteKit-Auth-Example"),de.forEach(i),o=O(W),f=h(W,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var he=c(f);w=h(he,"SPAN",{class:!0}),c(w).forEach(i),he.forEach(i),B=O(W),g=h(W,"DIV",{class:!0,id:!0});var $=c(g);_=h($,"UL",{class:!0});var X=c(_);A=h(X,"LI",{class:!0});var ve=c(A);n=h(ve,"A",{class:!0,"aria-current":!0,href:!0});var _e=c(n);y=S(_e,"Home"),_e.forEach(i),ve.forEach(i),z=O(X),T=h(X,"LI",{class:!0});var be=c(T);b=h(be,"A",{class:!0,href:!0});var me=c(b);K=S(me,"Info"),me.forEach(i),be.forEach(i),q=O(X),E&&E.l(X),X.forEach(i),j=O($),m=h($,"UL",{class:!0});var pe=c(m);M.l(pe),pe.forEach(i),$.forEach(i),W.forEach(i),I.forEach(i),L=O(u),k=h(u,"MAIN",{class:!0});var ee=c(k);D&&D.l(ee),F=O(ee),p=h(ee,"DIV",{id:!0,class:!0,role:!0,"aria-live":!0,"aria-atomic":!0});var te=c(p);V=h(te,"DIV",{class:!0});var le=c(V);C=h(le,"STRONG",{class:!0});var ge=c(C);J=S(ge,R),ge.forEach(i),se=O(le),G=h(le,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),c(G).forEach(i),le.forEach(i),re=O(te),Q=h(te,"DIV",{class:!0});var Ee=c(Q);Z=S(Ee,Y),Ee.forEach(i),te.forEach(i),ee.forEach(i),this.h()},h(){e(s,"class","navbar-brand svelte-16lhf5b"),e(s,"href","/"),e(w,"class","navbar-toggler-icon svelte-16lhf5b"),e(f,"class","navbar-toggler svelte-16lhf5b"),e(f,"type","button"),e(f,"data-bs-toggle","collapse"),e(f,"data-bs-target","#navbarMain"),e(f,"aria-controls","navbarMain"),e(f,"aria-expanded","false"),e(f,"aria-label","Toggle navigation"),e(n,"class","nav-link active svelte-16lhf5b"),e(n,"aria-current","page"),e(n,"href","/"),e(A,"class","nav-item svelte-16lhf5b"),e(b,"class","nav-link svelte-16lhf5b"),e(b,"href","/info"),e(T,"class","nav-item svelte-16lhf5b"),e(_,"class","navbar-nav me-5 svelte-16lhf5b"),e(m,"class","navbar-nav svelte-16lhf5b"),e(g,"class","collapse navbar-collapse svelte-16lhf5b"),e(g,"id","navbarMain"),e(t,"class","container svelte-16lhf5b"),e(a,"class","navbar navbar-expand-lg navbar-light bg-light svelte-16lhf5b"),e(C,"class","me-auto svelte-16lhf5b"),e(G,"type","button"),e(G,"class","btn-close svelte-16lhf5b"),e(G,"data-bs-dismiss","toast"),e(G,"aria-label","Close"),e(V,"class","toast-header bg-primary text-white svelte-16lhf5b"),e(Q,"class","toast-body svelte-16lhf5b"),e(p,"id","authToast"),e(p,"class","toast position-fixed top-0 end-0 m-3 svelte-16lhf5b"),e(p,"role","alert"),e(p,"aria-live","assertive"),e(p,"aria-atomic","true"),e(k,"class","container svelte-16lhf5b")},m(u,I){U(u,a,I),r(a,t),r(t,s),r(s,l),r(t,o),r(t,f),r(f,w),r(t,B),r(t,g),r(g,_),r(_,A),r(A,n),r(n,y),r(_,z),r(_,T),r(T,b),r(b,K),r(_,q),E&&E.m(_,null),r(g,j),r(g,m),M.m(m,null),U(u,L,I),U(u,k,I),D&&D.m(k,null),r(k,F),r(k,p),r(p,V),r(V,C),r(C,J),r(V,se),r(V,G),r(p,re),r(p,Q),r(Q,Z),H=!0},p(u,[I]){u[1]?E?E.p(u,I):(E=Ie(u),E.c(),E.m(_,null)):E&&(E.d(1),E=null),x===(x=ue(u))&&M?M.p(u,I):(M.d(1),M=x(u),M&&(M.c(),M.m(m,null))),D&&D.p&&(!H||I&16)&&Me(D,oe,u,u[4],H?Se(oe,u[4],I,null):Pe(u[4]),null),(!H||I&1)&&R!==(R=u[0].title+"")&&ce(J,R),(!H||I&1)&&Y!==(Y=u[0].body+"")&&ce(Z,Y)},i(u){H||(Be(D,u),H=!0)},o(u){Ce(D,u),H=!1},d(u){u&&i(a),E&&E.d(),M.d(),u&&i(L),u&&i(k),D&&D.d(u)}}}function We(v,a,t){let s,l;we(v,qe,n=>t(0,s=n)),we(v,ae,n=>t(1,l=n));let{$$slots:o={},$$scope:f}=a,{data:w}=a;const{user:B}=w;Ae(ae,l=B,l);let g;He(()=>{let n=l!=null&&l.expires?new Date(l.expires):void 0;n&&n<new Date&&(console.log("Login session expired."),Ae(ae,l=null,l))}),Ue(async()=>{Fe(),await ie(()=>import("../chunks/collapse.c0dbd9bb.js").then(n=>n.c),["../chunks/collapse.c0dbd9bb.js","../chunks/selector-engine.7885f56e.js"],import.meta.url),await ie(()=>import("../chunks/dropdown.e74481db.js").then(n=>n.d),["../chunks/dropdown.e74481db.js","../chunks/selector-engine.7885f56e.js"],import.meta.url),g=(await ie(()=>import("../chunks/toast.02c1bea9.js").then(n=>n.t),["../chunks/toast.02c1bea9.js","../chunks/selector-engine.7885f56e.js"],import.meta.url)).default,l||google.accounts.id.prompt()});async function _(){const y=await fetch("/auth/logout",{method:"POST"});y.ok?(ae.set(void 0),Ke("/login")):console.error(`Logout not successful: ${y.statusText} (${y.status})`)}const A=n=>{if(n){const y=document.getElementById("authToast");new g(y).show()}};return v.$$set=n=>{"data"in n&&t(3,w=n.data),"$$scope"in n&&t(4,f=n.$$scope)},v.$$.update=()=>{v.$$.dirty&1&&A(s.isOpen)},[s,l,_,w,f,o]}class et extends De{constructor(a){super(),Ne(this,a,We,Qe,Oe,{data:3})}}export{et as component};
