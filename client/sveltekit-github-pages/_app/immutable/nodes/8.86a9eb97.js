import{S as Ue,i as Be,s as Fe,a as v,k as o,q as k,P as Se,h as s,c as _,l as i,m,r as T,n as t,b as x,D as e,Q as K,N as ue,J as qe,R as Te,H as Oe,o as Ae,T as je,u as Ce,I as Je,w as pe}from"../chunks/index.0a471256.js";import{f as Me}from"../chunks/focus.a98a273e.js";import{l as Le}from"../chunks/stores.68a1c5e6.js";const{document:Ve}=je;function De(u){let d,r,h,f,a,N,U,F,A,g,S,c,W,b,I,y,X,Y,l,R,j,q,O,B,J,P,Z,L,H,G,$,te;return{c(){d=o("div"),r=o("label"),h=k("Email"),f=v(),a=o("input"),N=v(),U=o("div"),F=k("Email address required"),A=v(),g=o("div"),S=o("label"),c=k("Password"),W=v(),b=o("input"),I=v(),y=o("div"),X=k("Password with 8 chars or more required"),Y=v(),l=o("div"),R=k("Password minimum length 8, must have one capital letter, 1 number, and one unique character."),j=v(),q=o("div"),O=o("label"),B=k("Confirm password"),J=v(),P=o("input"),L=v(),H=o("div"),G=k("Password minimum length 8, must have one capital letter, 1 number, and one unique character."),this.h()},l(n){d=i(n,"DIV",{class:!0});var p=m(d);r=i(p,"LABEL",{class:!0,for:!0});var ae=m(r);h=T(ae,"Email"),ae.forEach(s),f=_(p),a=i(p,"INPUT",{type:!0,class:!0,placeholder:!0,id:!0,autocomplete:!0}),N=_(p),U=i(p,"DIV",{class:!0});var le=m(U);F=T(le,"Email address required"),le.forEach(s),p.forEach(s),A=_(n),g=i(n,"DIV",{class:!0});var E=m(g);S=i(E,"LABEL",{class:!0,for:!0});var se=m(S);c=T(se,"Password"),se.forEach(s),W=_(E),b=i(E,"INPUT",{type:!0,id:!0,class:!0,minlength:!0,maxlength:!0,placeholder:!0}),I=_(E),y=i(E,"DIV",{class:!0});var ee=m(y);X=T(ee,"Password with 8 chars or more required"),ee.forEach(s),Y=_(E),l=i(E,"DIV",{class:!0});var M=m(l);R=T(M,"Password minimum length 8, must have one capital letter, 1 number, and one unique character."),M.forEach(s),E.forEach(s),j=_(n),q=i(n,"DIV",{class:!0});var Q=m(q);O=i(Q,"LABEL",{class:!0,for:!0});var re=m(O);B=T(re,"Confirm password"),re.forEach(s),J=_(Q),P=i(Q,"INPUT",{type:!0,id:!0,class:!0,minlength:!0,maxlength:!0,placeholder:!0,autocomplete:!0}),L=_(Q),H=i(Q,"DIV",{class:!0});var de=m(H);G=T(de,"Password minimum length 8, must have one capital letter, 1 number, and one unique character."),de.forEach(s),Q.forEach(s),this.h()},h(){t(r,"class","form-label"),t(r,"for","email"),t(a,"type","email"),t(a,"class","form-control"),a.required=!0,t(a,"placeholder","Email"),t(a,"id","email"),t(a,"autocomplete","email"),t(U,"class","invalid-feedback"),t(d,"class","mb-3"),t(S,"class","form-label"),t(S,"for","password"),t(b,"type","password"),t(b,"id","password"),t(b,"class","form-control"),t(b,"minlength","8"),t(b,"maxlength","80"),t(b,"placeholder","Password"),t(y,"class","invalid-feedback"),t(l,"class","form-text"),t(g,"class","mb-3"),t(O,"class","form-label"),t(O,"for","password"),t(P,"type","password"),t(P,"id","password"),t(P,"class","form-control"),P.required=Z=!!u[0].password,t(P,"minlength","8"),t(P,"maxlength","80"),t(P,"placeholder","Password (again)"),t(P,"autocomplete","new-password"),t(H,"class","form-text"),t(q,"class","mb-3")},m(n,p){x(n,d,p),e(d,r),e(r,h),e(d,f),e(d,a),u[6](a),K(a,u[0].email),e(d,N),e(d,U),e(U,F),x(n,A,p),x(n,g,p),e(g,S),e(S,c),e(g,W),e(g,b),K(b,u[0].password),e(g,I),e(g,y),e(y,X),e(g,Y),e(g,l),e(l,R),x(n,j,p),x(n,q,p),e(q,O),e(O,B),e(q,J),e(q,P),u[9](P),e(q,L),e(q,H),e(H,G),$||(te=[ue(a,"input",u[7]),ue(b,"input",u[8])],$=!0)},p(n,p){p&1&&a.value!==n[0].email&&K(a,n[0].email),p&1&&b.value!==n[0].password&&K(b,n[0].password),p&1&&Z!==(Z=!!n[0].password)&&(P.required=Z)},d(n){n&&s(d),u[6](null),n&&s(A),n&&s(g),n&&s(j),n&&s(q),u[9](null),$=!1,Te(te)}}}function ke(u){let d,r;return{c(){d=o("p"),r=k(u[2])},l(h){d=i(h,"P",{});var f=m(d);r=T(f,u[2]),f.forEach(s)},m(h,f){x(h,d,f),e(d,r)},p(h,f){f&4&&Ce(r,h[2])},d(h){h&&s(d)}}}function Re(u){var he,ve;let d,r,h,f,a,N,U,F,A,g,S,c,W=!((ve=(he=u[0])==null?void 0:he.email)!=null&&ve.includes("gmail.com")),b,I,y,X,Y,l,R,j,q,O,B,J,P,Z,L,H,G,$,te,n,p,ae,le,E,se,ee,M,Q,re,de,V=W&&De(u),D=u[2]&&ke(u);return{c(){d=v(),r=o("div"),h=o("div"),f=o("div"),a=o("h4"),N=o("strong"),U=k("Profile"),F=v(),A=o("p"),g=k("Update your information."),S=v(),c=o("form"),V&&V.c(),b=v(),I=o("div"),y=o("label"),X=k("First name"),Y=v(),l=o("input"),R=v(),j=o("div"),q=k("First name required"),O=v(),B=o("div"),J=o("label"),P=k("Last name"),Z=v(),L=o("input"),H=v(),G=o("div"),$=k("Last name required"),te=v(),n=o("div"),p=o("label"),ae=k("Phone"),le=v(),E=o("input"),se=v(),D&&D.c(),ee=v(),M=o("button"),Q=k("Update"),this.h()},l(w){Se("svelte-h1cjtk",Ve.head).forEach(s),d=_(w),r=i(w,"DIV",{class:!0});var ce=m(r);h=i(ce,"DIV",{class:!0});var me=m(h);f=i(me,"DIV",{class:!0});var oe=m(f);a=i(oe,"H4",{});var _e=m(a);N=i(_e,"STRONG",{});var be=m(N);U=T(be,"Profile"),be.forEach(s),_e.forEach(s),F=_(oe),A=i(oe,"P",{});var Ee=m(A);g=T(Ee,"Update your information."),Ee.forEach(s),S=_(oe),c=i(oe,"FORM",{id:!0,autocomplete:!0,class:!0});var C=m(c);V&&V.l(C),b=_(C),I=i(C,"DIV",{class:!0});var ie=m(I);y=i(ie,"LABEL",{class:!0,for:!0});var we=m(y);X=T(we,"First name"),we.forEach(s),Y=_(ie),l=i(ie,"INPUT",{class:!0,id:!0,placeholder:!0,autocomplete:!0}),R=_(ie),j=i(ie,"DIV",{class:!0});var ge=m(j);q=T(ge,"First name required"),ge.forEach(s),ie.forEach(s),O=_(C),B=i(C,"DIV",{class:!0});var ne=m(B);J=i(ne,"LABEL",{class:!0,for:!0});var Pe=m(J);P=T(Pe,"Last name"),Pe.forEach(s),Z=_(ne),L=i(ne,"INPUT",{class:!0,id:!0,placeholder:!0,autocomplete:!0}),H=_(ne),G=i(ne,"DIV",{class:!0});var Ne=m(G);$=T(Ne,"Last name required"),Ne.forEach(s),ne.forEach(s),te=_(C),n=i(C,"DIV",{class:!0});var fe=m(n);p=i(fe,"LABEL",{class:!0,for:!0});var Ie=m(p);ae=T(Ie,"Phone"),Ie.forEach(s),le=_(fe),E=i(fe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,autocomplete:!0}),fe.forEach(s),se=_(C),D&&D.l(C),ee=_(C),M=i(C,"BUTTON",{type:!0,class:!0});var ye=m(M);Q=T(ye,"Update"),ye.forEach(s),C.forEach(s),oe.forEach(s),me.forEach(s),ce.forEach(s),this.h()},h(){Ve.title="Profile",t(y,"class","form-label"),t(y,"for","firstName"),t(l,"class","form-control"),t(l,"id","firstName"),l.required=!0,t(l,"placeholder","First name"),t(l,"autocomplete","given-name"),t(j,"class","invalid-feedback"),t(I,"class","mb-3"),t(J,"class","form-label"),t(J,"for","lastName"),t(L,"class","form-control"),t(L,"id","lastName"),L.required=!0,t(L,"placeholder","Last name"),t(L,"autocomplete","family-name"),t(G,"class","invalid-feedback"),t(B,"class","mb-3"),t(p,"class","form-label"),t(p,"for","phone"),t(E,"type","tel"),t(E,"id","phone"),t(E,"class","form-control"),t(E,"placeholder","Phone"),t(E,"autocomplete","tel-local"),t(n,"class","mb-3"),t(M,"type","button"),t(M,"class","btn btn-primary btn-lg"),t(c,"id","profile"),t(c,"autocomplete","on"),c.noValidate=!0,t(c,"class","mt-3"),t(f,"class","card-body svelte-wmjxka"),t(h,"class","card login"),t(r,"class","d-flex justify-content-center my-3")},m(w,z){x(w,d,z),x(w,r,z),e(r,h),e(h,f),e(f,a),e(a,N),e(N,U),e(f,F),e(f,A),e(A,g),e(f,S),e(f,c),V&&V.m(c,null),e(c,b),e(c,I),e(I,y),e(y,X),e(I,Y),e(I,l),u[10](l),K(l,u[0].firstName),e(I,R),e(I,j),e(j,q),e(c,O),e(c,B),e(B,J),e(J,P),e(B,Z),e(B,L),K(L,u[0].lastName),e(B,H),e(B,G),e(G,$),e(c,te),e(c,n),e(n,p),e(p,ae),e(n,le),e(n,E),K(E,u[0].phone),e(c,se),D&&D.m(c,null),e(c,ee),e(c,M),e(M,Q),re||(de=[ue(l,"input",u[11]),ue(L,"input",u[12]),ue(E,"input",u[13]),ue(M,"click",u[4])],re=!0)},p(w,[z]){var ce,me;z&1&&(W=!((me=(ce=w[0])==null?void 0:ce.email)!=null&&me.includes("gmail.com"))),W?V?V.p(w,z):(V=De(w),V.c(),V.m(c,b)):V&&(V.d(1),V=null),z&1&&l.value!==w[0].firstName&&K(l,w[0].firstName),z&1&&L.value!==w[0].lastName&&K(L,w[0].lastName),z&1&&K(E,w[0].phone),w[2]?D?D.p(w,z):(D=ke(w),D.c(),D.m(c,ee)):D&&(D.d(1),D=null)},i:qe,o:qe,d(w){w&&s(d),w&&s(r),V&&V.d(),u[10](null),D&&D.d(),re=!1,Te(de)}}}function He(u,d,r){let h;Oe(u,Le,l=>r(14,h=l));let{data:f}=d;const{user:a}=f;let N,U,F;Ae(()=>{N.focus()});async function A(){var R;r(2,U="");const l=document.getElementById("profile");if(!((R=a==null?void 0:a.email)!=null&&R.includes("gmail.com"))&&!g()){F.classList.add("is-invalid");return}if(l.checkValidity()){const O=await(await fetch("/api/v1/user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();r(2,U=O.message),Je(Le,h=JSON.parse(JSON.stringify(a)),h)}else l.classList.add("was-validated"),Me(l)}const g=()=>(a.password||r(0,a.password="",a),a.password==F.value);function S(l){pe[l?"unshift":"push"](()=>{N=l,r(1,N)})}function c(){a.email=this.value,r(0,a)}function W(){a.password=this.value,r(0,a)}function b(l){pe[l?"unshift":"push"](()=>{F=l,r(3,F)})}function I(l){pe[l?"unshift":"push"](()=>{N=l,r(1,N)})}function y(){a.firstName=this.value,r(0,a)}function X(){a.lastName=this.value,r(0,a)}function Y(){a.phone=this.value,r(0,a)}return u.$$set=l=>{"data"in l&&r(5,f=l.data)},[a,N,U,F,A,f,S,c,W,b,I,y,X,Y]}class Ke extends Ue{constructor(d){super(),Be(this,d,He,Re,Fe,{data:5})}}export{Ke as component};
