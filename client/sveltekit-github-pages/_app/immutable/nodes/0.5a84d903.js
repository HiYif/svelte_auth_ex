import{_ as ie}from"../chunks/preload-helper.41c905a7.js";import{S as De,i as Ne,s as Oe,C as Ve,k as u,q as S,a as O,l as d,m as f,r as B,h as i,c as V,n as e,b as z,D as r,E as Me,F as Pe,G as Se,u as ce,g as Be,d as Ce,H as we,I as Ae,o as Ue,e as Le,J as ze,K as ne,L as fe,M as ke,N as Re,O as Ge}from"../chunks/index.0a471256.js";import{b as He,g as Ke}from"../chunks/navigation.2579fe60.js";import{l as ae,t as qe}from"../chunks/stores.68a1c5e6.js";import{i as Fe}from"../chunks/google.2cd10ad3.js";function Ie(v){let a,t,s=v[1].role=="admin"&&ye(),l=v[1].role!="student"&&Te();return{c(){s&&s.c(),a=O(),l&&l.c(),t=Le()},l(o){s&&s.l(o),a=V(o),l&&l.l(o),t=Le()},m(o,n){s&&s.m(o,n),z(o,a,n),l&&l.m(o,n),z(o,t,n)},p(o,n){o[1].role=="admin"?s||(s=ye(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null),o[1].role!="student"?l||(l=Te(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){s&&s.d(o),o&&i(a),l&&l.d(o),o&&i(t)}}}function ye(v){let a,t,s;return{c(){a=u("li"),t=u("a"),s=S("Admin"),this.h()},l(l){a=d(l,"LI",{class:!0});var o=f(a);t=d(o,"A",{class:!0,href:!0});var n=f(t);s=B(n,"Admin"),n.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/admin"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){z(l,a,o),r(a,t),r(t,s)},d(l){l&&i(a)}}}function Te(v){let a,t,s;return{c(){a=u("li"),t=u("a"),s=S("Teachers"),this.h()},l(l){a=d(l,"LI",{class:!0});var o=f(a);t=d(o,"A",{class:!0,href:!0});var n=f(t);s=B(n,"Teachers"),n.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/teachers"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){z(l,a,o),r(a,t),r(t,s)},d(l){l&&i(a)}}}function Je(v){let a,t,s;return{c(){a=u("li"),t=u("a"),s=S("Login"),this.h()},l(l){a=d(l,"LI",{class:!0});var o=f(a);t=d(o,"A",{class:!0,href:!0});var n=f(t);s=B(n,"Login"),n.forEach(i),o.forEach(i),this.h()},h(){e(t,"class","nav-link svelte-16lhf5b"),e(t,"href","/login"),e(a,"class","nav-item svelte-16lhf5b")},m(l,o){z(l,a,o),r(a,t),r(t,s)},p:ze,d(l){l&&i(a)}}}function je(v){let a,t,s,l,o,n,w=v[1].firstName+"",C,A,_,L,b,h,D,k,m,K,q,j;return{c(){a=u("li"),t=u("a"),s=ne("svg"),l=ne("path"),o=ne("path"),n=O(),C=S(w),A=O(),_=u("ul"),L=u("li"),b=u("a"),h=S("Profile"),D=O(),k=u("li"),m=u("a"),K=S("Logout"),this.h()},l(p){a=d(p,"LI",{class:!0});var I=f(a);t=d(I,"A",{class:!0,href:!0,role:!0,"data-bs-toggle":!0,"aria-expanded":!0});var y=f(t);s=fe(y,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var F=f(s);l=fe(F,"path",{d:!0,class:!0}),f(l).forEach(i),o=fe(F,"path",{"fill-rule":!0,d:!0,class:!0}),f(o).forEach(i),F.forEach(i),n=V(y),C=B(y,w),y.forEach(i),A=V(I),_=d(I,"UL",{class:!0});var g=f(_);L=d(g,"LI",{class:!0});var M=f(L);b=d(M,"A",{class:!0,href:!0});var U=f(b);h=B(U,"Profile"),U.forEach(i),M.forEach(i),D=V(g),k=d(g,"LI",{class:!0});var R=f(k);m=d(R,"A",{class:!0,href:!0});var J=f(m);K=B(J,"Logout"),J.forEach(i),R.forEach(i),g.forEach(i),I.forEach(i),this.h()},h(){e(l,"d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"),e(l,"class","svelte-16lhf5b"),e(o,"fill-rule","evenodd"),e(o,"d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"),e(o,"class","svelte-16lhf5b"),e(s,"xmlns","http://www.w3.org/2000/svg"),e(s,"width","16"),e(s,"height","16"),e(s,"fill","currentColor"),e(s,"class","avatar svelte-16lhf5b"),e(s,"viewBox","0 0 16 16"),e(t,"class","nav-link dropdown-toggle svelte-16lhf5b"),e(t,"href","#"),e(t,"role","button"),e(t,"data-bs-toggle","dropdown"),e(t,"aria-expanded","false"),e(b,"class","dropdown-item svelte-16lhf5b"),e(b,"href","/profile"),e(L,"class","svelte-16lhf5b"),e(m,"class","dropdown-item svelte-16lhf5b"),e(m,"href","#"),ke(m,"d-none",!v[1]||v[1].id===0),e(k,"class","svelte-16lhf5b"),e(_,"class","dropdown-menu svelte-16lhf5b"),e(a,"class","nav-item dropdown svelte-16lhf5b")},m(p,I){z(p,a,I),r(a,t),r(t,s),r(s,l),r(s,o),r(t,n),r(t,C),r(a,A),r(a,_),r(_,L),r(L,b),r(b,h),r(_,D),r(_,k),r(k,m),r(m,K),q||(j=Re(m,"click",Ge(v[2])),q=!0)},p(p,I){I&2&&w!==(w=p[1].firstName+"")&&ce(C,w),I&2&&ke(m,"d-none",!p[1]||p[1].id===0)},d(p){p&&i(a),q=!1,j()}}}function xe(v){let a,t,s,l,o,n,w,C,A,_,L,b,h,D,k,m,K,q,j,p,I,y,F,g,M,U,R=v[0].title+"",J,se,G,re,x,X=v[0].body+"",Y,H,E=v[1]&&Ie(v);function ue(c,T){return c[1]?je:Je}let Z=ue(v),P=Z(v);const oe=v[6].default,N=Ve(oe,v,v[5],null);return{c(){a=u("nav"),t=u("div"),s=u("a"),l=S("SvelteKit-Auth-Example"),o=O(),n=u("button"),w=u("span"),C=O(),A=u("div"),_=u("ul"),L=u("li"),b=u("a"),h=S("Home"),D=O(),k=u("li"),m=u("a"),K=S("Info"),q=O(),E&&E.c(),j=O(),p=u("ul"),P.c(),I=O(),y=u("main"),N&&N.c(),F=O(),g=u("div"),M=u("div"),U=u("strong"),J=S(R),se=O(),G=u("button"),re=O(),x=u("div"),Y=S(X),this.h()},l(c){a=d(c,"NAV",{class:!0});var T=f(a);t=d(T,"DIV",{class:!0});var Q=f(t);s=d(Q,"A",{class:!0,href:!0});var de=f(s);l=B(de,"SvelteKit-Auth-Example"),de.forEach(i),o=V(Q),n=d(Q,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var he=f(n);w=d(he,"SPAN",{class:!0}),f(w).forEach(i),he.forEach(i),C=V(Q),A=d(Q,"DIV",{class:!0,id:!0});var $=f(A);_=d($,"UL",{class:!0});var W=f(_);L=d(W,"LI",{class:!0});var ve=f(L);b=d(ve,"A",{class:!0,"aria-current":!0,href:!0});var _e=f(b);h=B(_e,"Home"),_e.forEach(i),ve.forEach(i),D=V(W),k=d(W,"LI",{class:!0});var be=f(k);m=d(be,"A",{class:!0,href:!0});var me=f(m);K=B(me,"Info"),me.forEach(i),be.forEach(i),q=V(W),E&&E.l(W),W.forEach(i),j=V($),p=d($,"UL",{class:!0});var pe=f(p);P.l(pe),pe.forEach(i),$.forEach(i),Q.forEach(i),T.forEach(i),I=V(c),y=d(c,"MAIN",{class:!0});var ee=f(y);N&&N.l(ee),F=V(ee),g=d(ee,"DIV",{id:!0,class:!0,role:!0,"aria-live":!0,"aria-atomic":!0});var te=f(g);M=d(te,"DIV",{class:!0});var le=f(M);U=d(le,"STRONG",{class:!0});var ge=f(U);J=B(ge,R),ge.forEach(i),se=V(le),G=d(le,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),f(G).forEach(i),le.forEach(i),re=V(te),x=d(te,"DIV",{class:!0});var Ee=f(x);Y=B(Ee,X),Ee.forEach(i),te.forEach(i),ee.forEach(i),this.h()},h(){e(s,"class","navbar-brand svelte-16lhf5b"),e(s,"href","/"),e(w,"class","navbar-toggler-icon svelte-16lhf5b"),e(n,"class","navbar-toggler svelte-16lhf5b"),e(n,"type","button"),e(n,"data-bs-toggle","collapse"),e(n,"data-bs-target","#navbarMain"),e(n,"aria-controls","navbarMain"),e(n,"aria-expanded","false"),e(n,"aria-label","Toggle navigation"),e(b,"class","nav-link active svelte-16lhf5b"),e(b,"aria-current","page"),e(b,"href","/"),e(L,"class","nav-item svelte-16lhf5b"),e(m,"class","nav-link svelte-16lhf5b"),e(m,"href","/info"),e(k,"class","nav-item svelte-16lhf5b"),e(_,"class","navbar-nav me-5 svelte-16lhf5b"),e(p,"class","navbar-nav svelte-16lhf5b"),e(A,"class","collapse navbar-collapse svelte-16lhf5b"),e(A,"id","navbarMain"),e(t,"class","container svelte-16lhf5b"),e(a,"class","navbar navbar-expand-lg navbar-light bg-light svelte-16lhf5b"),e(U,"class","me-auto svelte-16lhf5b"),e(G,"type","button"),e(G,"class","btn-close svelte-16lhf5b"),e(G,"data-bs-dismiss","toast"),e(G,"aria-label","Close"),e(M,"class","toast-header bg-primary text-white svelte-16lhf5b"),e(x,"class","toast-body svelte-16lhf5b"),e(g,"id","authToast"),e(g,"class","toast position-fixed top-0 end-0 m-3 svelte-16lhf5b"),e(g,"role","alert"),e(g,"aria-live","assertive"),e(g,"aria-atomic","true"),e(y,"class","container svelte-16lhf5b")},m(c,T){z(c,a,T),r(a,t),r(t,s),r(s,l),r(t,o),r(t,n),r(n,w),r(t,C),r(t,A),r(A,_),r(_,L),r(L,b),r(b,h),r(_,D),r(_,k),r(k,m),r(m,K),r(_,q),E&&E.m(_,null),r(A,j),r(A,p),P.m(p,null),z(c,I,T),z(c,y,T),N&&N.m(y,null),r(y,F),r(y,g),r(g,M),r(M,U),r(U,J),r(M,se),r(M,G),r(g,re),r(g,x),r(x,Y),H=!0},p(c,[T]){c[1]?E?E.p(c,T):(E=Ie(c),E.c(),E.m(_,null)):E&&(E.d(1),E=null),Z===(Z=ue(c))&&P?P.p(c,T):(P.d(1),P=Z(c),P&&(P.c(),P.m(p,null))),N&&N.p&&(!H||T&32)&&Me(N,oe,c,c[5],H?Se(oe,c[5],T,null):Pe(c[5]),null),(!H||T&1)&&R!==(R=c[0].title+"")&&ce(J,R),(!H||T&1)&&X!==(X=c[0].body+"")&&ce(Y,X)},i(c){H||(Be(N,c),H=!0)},o(c){Ce(N,c),H=!1},d(c){c&&i(a),E&&E.d(),P.d(),c&&i(I),c&&i(y),N&&N.d(c)}}}function Qe(v,a,t){let s,l;we(v,qe,h=>t(0,s=h)),we(v,ae,h=>t(1,l=h));let{$$slots:o={},$$scope:n}=a,{data:w}=a;const C=!0,{user:A}=w;Ae(ae,l=A,l);let _;He(()=>{let h=l!=null&&l.expires?new Date(l.expires):void 0;h&&h<new Date&&(console.log("Login session expired."),Ae(ae,l=null,l))}),Ue(async()=>{Fe(),await ie(()=>import("../chunks/collapse.c0dbd9bb.js").then(h=>h.c),["../chunks/collapse.c0dbd9bb.js","../chunks/selector-engine.7885f56e.js"],import.meta.url),await ie(()=>import("../chunks/dropdown.e74481db.js").then(h=>h.d),["../chunks/dropdown.e74481db.js","../chunks/selector-engine.7885f56e.js"],import.meta.url),_=(await ie(()=>import("../chunks/toast.02c1bea9.js").then(h=>h.t),["../chunks/toast.02c1bea9.js","../chunks/selector-engine.7885f56e.js"],import.meta.url)).default,l||google.accounts.id.prompt()});async function L(){const D=await fetch("/auth/logout",{method:"POST"});D.ok?(ae.set(void 0),Ke("/login")):console.error(`Logout not successful: ${D.statusText} (${D.status})`)}const b=h=>{if(h){const D=document.getElementById("authToast");new _(D).show()}};return v.$$set=h=>{"data"in h&&t(3,w=h.data),"$$scope"in h&&t(5,n=h.$$scope)},v.$$.update=()=>{v.$$.dirty&1&&b(s.isOpen)},[s,l,L,w,C,n,o]}class et extends De{constructor(a){super(),Ne(this,a,Qe,xe,Oe,{data:3,prerender:4})}get prerender(){return this.$$.ctx[4]}}export{et as component};
